const mongoose = require("mongoose");

/**
 * @swagger
 *  components:
 *    schemas:
 *      User:
 *        type: object
 *        required:
 *          - name
 *          - email
 *          - password
 *        properties:
 *          name:
 *           type: string
 *          email:
 *           type: string
 *           format: email
 *           description: Email for the user, needs to be unique.
 *          password:
 *           type: string
 *           description: hashed using bcrypt
 *          firebase_id:
 *           type: string
 *           description: generated by firebase server
 *          usertype:
 *           type: string
 *          phone:
 *           type: integer
 *           minlength: 10
 *          profileURL:
 *           type: string
 *           format: urlstring
 *          created:
 *           type: string
 *           format: date
 *        example:
 *           name: Alexander
 *           email: fake@email.com
 *           password: testpassword
 */
const userSchema = new mongoose.Schema({
	name: {
		type: String,
		required: true,
		max: 255,
	},
	email: {
		type: String,
		required: true,
		min: 5,
		max: 255,
		// unique: true,
	},
	password: {
		type: String,
		required: true,
		max: 1024,
		min: 6,
	},
	firebase_id: {
		type: String,
		unique: true,
	},
	usertype: {
		type: String,
		enum: ["tenant", "owner", "admin"],
		default: "tenant",
	},
	phone: {
		type: Number,
		min: 10, // unique: true,
	},
	profileURL: {
		type: String,
	},
	created: {
		type: Date,
		default: Date.now,
	},
});
const userModel = new mongoose.model("User", userSchema);

module.exports = userModel;
